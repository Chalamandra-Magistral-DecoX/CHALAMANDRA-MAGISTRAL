<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dado Magistral | DecoX Lab</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=Exo+2:wght@300;600&display=swap" rel="stylesheet">
    <style>
        :root { --neon-green: #39FF14; --magenta: #FF00FF; --dark: #050505; }
        body { 
            background-color: var(--dark); 
            color: white; 
            font-family: 'Exo 2', sans-serif;
            background-image: radial-gradient(circle at 50% 50%, #1a001a 0%, #050505 100%);
            overflow: hidden;
        }
        .font-magistral { font-family: 'Orbitron', sans-serif; }
        
        /* --- L√ìGICA DEL DADO 3D --- */
        .scene { width: 200px; height: 200px; perspective: 600px; margin: 40px auto; }
        .cube {
            width: 100%; height: 100%; position: relative;
            transform-style: preserve-3d;
            transform: translateZ(-100px);
            transition: transform 1.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .cube__face {
            position: absolute; width: 200px; height: 200px;
            border: 2px solid var(--neon-green);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            font-weight: bold; font-family: 'Orbitron', sans-serif;
            background: rgba(0, 0, 0, 0.8); color: var(--neon-green);
            box-shadow: inset 0 0 20px rgba(57, 255, 20, 0.2);
        }

        .cube__face--1 { transform: rotateY(  0deg) translateZ(100px); }
        .cube__face--2 { transform: rotateY(180deg) translateZ(100px); }
        .cube__face--3 { transform: rotateY( 90deg) translateZ(100px); }
        .cube__face--4 { transform: rotateY(-90deg) translateZ(100px); }
        .cube__face--5 { transform: rotateX( 90deg) translateZ(100px); }
        .cube__face--6 { transform: rotateX(-90deg) translateZ(100px); }

        .btn-magistral {
            background: var(--magenta);
            box-shadow: 0 0 20px var(--magenta);
            transition: all 0.3s ease;
        }
        .btn-magistral:hover { transform: scale(1.05); box-shadow: 0 0 40px var(--magenta); }
        .btn-magistral:disabled { background: #333; box-shadow: none; opacity: 0.5; }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-6">

    <h1 class="font-magistral text-2xl text-glow-magenta mb-8 uppercase tracking-widest text-[#FF00FF]">
        Laboratorio de Metodolog√≠as
    </h1>

    <div class="scene">
        <div class="cube" id="cube">
            <div class="cube__face cube__face--1 text-3xl">üç∞<span class="text-[10px] mt-2">PASTELOTE</span></div>
            <div class="cube__face cube__face--2 text-3xl">üé©<span class="text-[10px] mt-2">6 LOOKS</span></div>
            <div class="cube__face cube__face--3 text-3xl">üõ†Ô∏è<span class="text-[10px] mt-2">KIT</span></div>
            <div class="cube__face cube__face--4 text-3xl">ü§™<span class="text-[10px] mt-2">MESSI</span></div>
            <div class="cube__face cube__face--5 text-3xl">üó∫Ô∏è<span class="text-[10px] mt-2">MAPA</span></div>
            <div class="cube__face cube__face--6 text-3xl">‚òï<span class="text-[10px] mt-2">TERTULIA</span></div>
        </div>
    </div>

    <div id="resultado" class="max-w-md text-center h-24 mb-8">
        <p class="text-slate-500 font-mono text-xs uppercase tracking-widest">Esperando comando...</p>
    </div>

    <div class="flex gap-4">
        <button id="roll-button" onclick="rollDice()" class="btn-magistral px-8 py-3 rounded-full font-bold uppercase tracking-tighter text-sm">
            Lanzar Dado
        </button>
        <button onclick="window.location.href='../index.html'" class="border border-white/20 px-8 py-3 rounded-full font-bold uppercase tracking-tighter text-sm hover:bg-white hover:text-black">
            Volver
        </button>
    </div>

    <script>
        const cube = document.getElementById('cube');
        const rollBtn = document.getElementById('roll-button');
        const resDiv = document.getElementById('resultado');
        
        const metodologias = [
            { n: "üç∞ EL PASTELOTE", d: "Divide el problema en rebanadas manejables." },
            { n: "üé© LOS 6 LOOKS", d: "Cambia de perspectiva: del hater a la jefa." },
            { n: "üõ†Ô∏è KIT MALANDRO", d: "Sustituye y combina lo que ya tienes." },
            { n: "ü§™ IDEAS M√ÅS MESSI", d: "La idea m√°s loca es la que ganar√° el mundial." },
            { n: "üó∫Ô∏è CARTOGRAF√çA", d: "Mapea el terreno antes de atacar." },
            { n: "‚òï TERTULIA", d: "Conversaci√≥n estrat√©gica para decodificar." }
        ];

        // üîä SONIDO CYBER-CLICK
        const playSound = () => {
            const ctx = new (window.AudioContext || window.webkitAudioContext)();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();
            osc.type = 'square'; osc.frequency.setValueAtTime(150, ctx.currentTime);
            gain.gain.setValueAtTime(0.05, ctx.currentTime);
            osc.connect(gain); gain.connect(ctx.destination);
            osc.start(); osc.stop(ctx.currentTime + 0.1);
        };

        function rollDice() {
            playSound();
            rollBtn.disabled = true;
            resDiv.innerHTML = '<p class="text-[#39FF14] font-mono text-xs animate-pulse">PROCESANDO CAOS...</p>';

            const index = Math.floor(Math.random() * 6);
            
            // Rotaciones para cada cara
            const coords = [
                {x: 0, y: 0},     // Cara 1
                {x: 0, y: 180},   // Cara 2
                {x: 0, y: -90},   // Cara 3
                {x: 0, y: 90},    // Cara 4
                {x: -90, y: 0},   // Cara 5
                {x: 90, y: 0}     // Cara 6
            ];

            const rotation = coords[index];
            // A√±adimos vueltas extras para el efecto de giro veloz
            cube.style.transform = `translateZ(-100px) rotateX(${rotation.x + 1080}deg) rotateY(${rotation.y + 1080}deg)`;

            setTimeout(() => {
                decodificarTexto(metodologias[index]);
                rollBtn.disabled = false;
            }, 1500);
        }

        function decodificarTexto(metodo) {
            let iter = 0;
            const chars = "ABCDEFGHIJKLMN0123456789%@#$";
            const interval = setInterval(() => {
                resDiv.innerHTML = `<h2 class="font-magistral text-xl text-[#39FF14]">` + 
                    metodo.n.split("").map((l, i) => {
                        if(i < iter) return metodo.n[i];
                        return chars[Math.floor(Math.random() * chars.length)];
                    }).join("") + `</h2><p class="text-slate-400 text-[10px] mt-2 uppercase tracking-widest">${metodo.d}</p>`;
                
                if(iter >= metodo.n.length) clearInterval(interval);
                iter += 1/2;
            }, 40);
        }
    </script>
</body>
</html>
